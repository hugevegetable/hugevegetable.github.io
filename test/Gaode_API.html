<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript">
        window._AMapSecurityConfig = {
            securityJsCode: 'bad6601af258c5a53b89253a42e63cf0',
        }
    </script>

    <script src="https://a.amap.com/jsapi_demos/static/geojson/shanghai.js"></script>



    <script type="text/javascript"
        src="https://webapi.amap.com/maps?v=1.4.15&key=b94c37a16b2ae0943fb57a6987ff8a63"></script>
    <style type="text/css">
        html {
            height: 100%
        }

        body {
            height: 100%;
            margin: 0px;
            padding: 0px
        }

        #container {
            height: 100%
        }
    </style>
</head>

<body>

    <div id="container"></div>


    <script>


        var map = new AMap.Map("container", {

            center: [120.625062, 27.955348],
            zoom: 14
        });
        map.setMapStyle('amap://styles/whitesmoke');


        AMap.plugin('AMap.DistrictSearch', function () {
            var district = new AMap.DistrictSearch({ // 创建行政区查询对象
                extensions: 'all', // 返回行政区边界坐标等具体信息
                level: 'district' // 设置查询行政区级别为 区 
            });

            district.search('瓯海区', function (status, result) {
                var bounds = result.districtList[0].boundaries; // 获取朝阳区的边界信息
                var polygons = [];
                if (bounds) {
                    for (var i = 0, l = bounds.length; i < l; i++) {
                        var polygon = new AMap.Polygon({ //生成行政区划polygon
                            map: map,
                            strokeWeight: 1,
                            path: bounds[i],
                            fillOpacity: 0.3,
                            fillColor: '#CCF3FF',
                            strokeColor: '#CC66CC'
                        })
                        polygons.push(polygon);
                    }

                }
            })
        })

        var coordinates = [
            [120.625062, 27.955348],
            [120.586072, 27.957094],
            [120.622484, 27.965330],
            [120.579325, 27.958788],
            [120.572160, 27.936882],
            [120.692001, 27.974963],
            [120.636682, 28.006853],
            [120.618612, 27.983776],
            [120.626444, 27.952887],
            [120.619087, 27.972471],
            [120.618464, 27.969180],
            [120.658991, 27.868854],
            [120.583533, 27.947140],
            [120.682324, 27.942728],
            [120.638451, 27.971012],
            [120.687131, 27.944886],
            [120.626444, 27.952887],
            [120.613810, 27.980191],
            [120.530207, 28.005336],
            [120.626444, 27.952887],
            [120.622041, 28.004190],
            [120.669151, 27.974557],
            [120.667919, 27.932440],
            [120.678183, 27.953711],
            [120.682159, 27.938553],
            [120.699019, 27.984796],
            [120.678183, 27.953711],
            [120.686058, 27.957298],
            [120.626444, 27.952887],
            [120.618656, 27.966463],
            [120.676167, 27.972710],
            [120.617068, 27.953335],
            [120.677369, 27.963442],
            [120.687183, 27.886826],
            [120.587965, 27.961343],
            [120.718882, 27.975980],
            [120.615310, 27.959864],
            [120.678443, 27.940803],
            [120.685977, 27.909647],
            [120.672888, 27.951269],
            [120.626444, 27.952887],
            [120.587782, 27.961106],
            [120.717103, 27.977462],
            [120.692001, 27.974963],
            [120.678443, 27.940803],
            [120.685168, 27.923376],
            [120.618464, 27.969180],
            [120.685203, 27.952332],
            [120.617329, 27.950350],
            [120.612500, 27.963019],
            [120.612390, 27.966417],
            [120.694625, 27.912526],
            [120.706953, 27.978607],
            [120.589270, 27.960451],
            [120.715683, 27.970709],
            [120.669352, 27.973803],
            [120.626444, 27.952887],
            [120.662538, 27.974299],
            [120.603062, 27.962375],
            [120.674081, 27.966651],
            [120.687131, 27.944886],
            [120.637626, 27.975954],
            [120.573319, 27.951678],
            [120.708827, 27.914241],
            [120.634128, 27.981240],
            [120.662808, 27.972586],
            [120.623047, 27.968901],
            [120.641554, 27.986746],
            [120.595195, 27.955749],
            [113.811168, 23.085475],
            [120.622484, 27.965330],
            [120.586288, 27.962438],
            [120.608241, 27.971515],
            [120.708827, 27.914241],
        ]



        //fillOpacity: 1 - Math.sqrt(area / 8000000000),// 面积越大透明度越高

        var abundent_price = [22000,
            22500,
            31785,
            18483,
            19500,
            29000,
            29500,
            23527,
            28841,
            28500,
            26000,
            13007,
            19307,
            24711,
            24615,
            28139,
            26100,
            24000,
            27128,
            18558,
            25000,
            26000,
            21709,
            19900,
            24393,
            30288,
            23423,
            27128,
            25000,
            27128,
            27295,
            26967,
            26967,
            20319,
            27554,
            27295,
            27295,
            27554,
            26967,
            27128,
            20737,
            21451,
            25000,
            25000,
            26605,
            21821,
            20376,
            25000,
            26967,
            21244,
            27128,
            26967,
            27554,
            21451,
            27128,
            27295,
            20732,
            24182,
            23800,
            24500,
            30000,
            26000,
            26967,
            26967,
            27554,
            27295,
            27554,
            27128,
            26967,
            19682,
            26967,
            21451,
            21621,
            26967]
        // 遍历坐标数据并创建圆形覆盖物

        var house_names = ['远洋泊云庭', '万科大象城映象广场', '首开第五大道', '碧桂园悦榕湾', '万科世纪之光', '首开中庚香開萬里', '保利中南大境堂悦', '荣安江河拥翠', '翰林九境', '时代·瓯海壹品', '荣安汇学府', '绿城·海棠鸣翠', '万科映星河', '南湖未来ONE', '欢乐天地', '远洋半岛九号', '祥生公园道', '弘阳上坤西湖四季', '鸿溪云澜', '奥体国际', '弘阳上坤潮启四季', '华董璞丽湾', '现代绿城金竹嘉园', '龙湖龙誉城', '未来之星', '万科翡翠天地', '金澜云邸', '温州万象天地', '世茂璀璨澜庭', '大发凯旋门', '宏地南塘府', '德信·海派公馆', '德信碧桂园玖号院', '仙岩华府', '港龙·柏悦公馆', '德信爱琴海岸3期上府', '德信大悦湾', '华鸿万象公馆', '瓯海之光', '中梁国宾1号三期', '广城IBC国际中心', '温州站南商贸城', '天著园', '熙悦里', '中南瓯海印象', '龙湖华董春江天玺', '君悦339', '万象之光', '奥体华府', '德信时代公园', '万科中梁新都会', '京都府', '宏地钻石公馆', '温州君廷大酒店', '金域中央', '温铁·御龙公馆', '港龙义乌国际商贸城', '德信大发麓湖湾', '荣安御瓯海', '龙湖天曜城', '龙湖天钜', '凯迪融创瓯玥名邸', '阳光城愉景嘉园', '阳光城榆景公园', '万科碧桂园西江月', '德信·湖滨1号', '大发融悦东方', '华鸿中央湖公馆', '名门世家', '欧尚春天商业广场', '万科·金域传奇', '大象城国际商贸中心', '云天楼洲际广场', '华鸿首府壹号']
        var house_links = ['https://wz.fang.anjuke.com/loupan/474598.html', 'https://wz.fang.anjuke.com/loupan/500249.html', 'https://wz.fang.anjuke.com/loupan/511285.html', 'https://wz.fang.anjuke.com/loupan/499406.html', 'https://wz.fang.anjuke.com/loupan/465140.html', 'https://wz.fang.anjuke.com/loupan/463218.html', 'https://wz.fang.anjuke.com/loupan/497410.html', 'https://wz.fang.anjuke.com/loupan/500216.html', 'https://wz.fang.anjuke.com/loupan/496400.html', 'https://wz.fang.anjuke.com/loupan/462772.html', 'https://wz.fang.anjuke.com/loupan/500224.html', 'https://wz.fang.anjuke.com/loupan/519189.html', 'https://wz.fang.anjuke.com/loupan/516125.html', 'https://wz.fang.anjuke.com/loupan/506142.html', 'https://wz.fang.anjuke.com/loupan/453555.html', 'https://wz.fang.anjuke.com/loupan/497677.html', 'https://wz.fang.anjuke.com/loupan/477934.html', 'https://wz.fang.anjuke.com/loupan/470767.html', 'https://wz.fang.anjuke.com/loupan/485293.html', 'https://wz.fang.anjuke.com/loupan/494623.html', 'https://wz.fang.anjuke.com/loupan/460523.html', 'https://wz.fang.anjuke.com/loupan/459810.html', 'https://wz.fang.anjuke.com/loupan/499579.html', 'https://wz.fang.anjuke.com/loupan/470372.html', 'https://wz.fang.anjuke.com/loupan/485691.html', 'https://wz.fang.anjuke.com/loupan/464185.html', 'https://wz.fang.anjuke.com/loupan/482303.html', 'https://wz.fang.anjuke.com/loupan/451157.html', 'https://wz.fang.anjuke.com/loupan/448210.html', 'https://wz.fang.anjuke.com/loupan/262088.html', 'https://wz.fang.anjuke.com/loupan/429293.html', 'https://wz.fang.anjuke.com/loupan/262089.html', 'https://wz.fang.anjuke.com/loupan/424544.html', 'https://wz.fang.anjuke.com/loupan/262124.html', 'https://wz.fang.anjuke.com/loupan/262092.html', 'https://wz.fang.anjuke.com/loupan/422372.html', 'https://wz.fang.anjuke.com/loupan/422288.html', 'https://wz.fang.anjuke.com/loupan/422212.html', 'https://wz.fang.anjuke.com/loupan/431795.html', 'https://wz.fang.anjuke.com/loupan/262137.html', 'https://wz.fang.anjuke.com/loupan/494761.html', 'https://wz.fang.anjuke.com/loupan/424991.html', 'https://wz.fang.anjuke.com/loupan/485169.html', 'https://wz.fang.anjuke.com/loupan/461812.html', 'https://wz.fang.anjuke.com/loupan/455642.html', 'https://wz.fang.anjuke.com/loupan/457380.html', 'https://wz.fang.anjuke.com/loupan/456205.html', 'https://wz.fang.anjuke.com/loupan/464186.html', 'https://wz.fang.anjuke.com/loupan/446297.html', 'https://wz.fang.anjuke.com/loupan/424670.html', 'https://wz.fang.anjuke.com/loupan/422209.html', 'https://wz.fang.anjuke.com/loupan/422736.html', 'https://wz.fang.anjuke.com/loupan/423161.html', 'https://wz.fang.anjuke.com/loupan/424822.html', 'https://wz.fang.anjuke.com/loupan/262105.html', 'https://wz.fang.anjuke.com/loupan/262122.html', 'https://wz.fang.anjuke.com/loupan/428384.html', 'https://wz.fang.anjuke.com/loupan/459049.html', 'https://wz.fang.anjuke.com/loupan/473919.html', 'https://wz.fang.anjuke.com/loupan/473740.html', 'https://wz.fang.anjuke.com/loupan/463584.html', 'https://wz.fang.anjuke.com/loupan/454998.html', 'https://wz.fang.anjuke.com/loupan/440433.html', 'https://wz.fang.anjuke.com/loupan/438640.html', 'https://wz.fang.anjuke.com/loupan/432856.html', 'https://wz.fang.anjuke.com/loupan/262090.html', 'https://wz.fang.anjuke.com/loupan/424711.html', 'https://wz.fang.anjuke.com/loupan/422282.html', 'https://wz.fang.anjuke.com/loupan/262083.html', 'https://wz.fang.anjuke.com/loupan/425065.html', 'https://wz.fang.anjuke.com/loupan/262121.html', 'https://wz.fang.anjuke.com/loupan/424872.html', 'https://wz.fang.anjuke.com/loupan/425032.html', 'https://wz.fang.anjuke.com/loupan/438622.html'];
        var fillOpacity_param = 40000;
        map.on('complete', function () {
            coordinates.forEach(function (coord, index) {
                var circle = new AMap.Circle({
                    center: coord,
                    radius: 100, // 半径
                    // borderWeight: 3,
                    strokeColor: "rgba(255,128,0,1)",
                    strokeWeight: 0,

                    //fillOpacity: (abundent_price[index] / 30000),
                    fillOpacity: (abundent_price[index] / fillOpacity_param),


                    //strokeStyle: 'dashed',
                    //strokeDasharray: [10, 10],
                    //fillColor: 'rgba(0,0,255,1)',
                    fillColor: 'rgba(255,128,0,1)',
                    //fillColor: 'rgba(255,0,0,1)',
                    //zIndex: 50,
                    map: map
                });
                // circle.on('click', function () {
                //     // 在点击时显示价格信息
                //     var price = abundent_price[index];
                //     alert('价格：' + price + '元');
                // });

                // 创建信息窗体内容
                var houseLink = house_links[index];
                var infoWindowContent = house_names[index] +
                    '<br>价格：' + abundent_price[index] + '元' +
                    '<br><a href="' + houseLink + '">查看更多信息</a>';
                // 创建信息窗体
                var infoWindow = new AMap.InfoWindow({
                    content: infoWindowContent,
                    offset: new AMap.Pixel(0, -20),// 信息窗体的位置偏移
                });
                // 添加点击事件监听器
                circle.on('click', function () {
                    // 打开信息窗体
                    infoWindow.open(map, coord);
                });
            });
        });




    </script>




</body>

</html>